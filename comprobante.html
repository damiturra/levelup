<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Comprobante · Level-Up Gamer</title>
  <meta name="description" content="Comprobante de compra con detalle de productos y totales.">
  <meta name="theme-color" content="#000000">

  <!-- Fuentes + Bootstrap -->
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600;700&family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Estilos globales -->
  <link rel="stylesheet" href="assets/css/style.css">
  <link rel="icon" href="assets/images/logo-levelup.jpeg" type="image/jpeg">

  <style>
    :root{ --bg:#000; --electric:#1E90FF; --neon:#39FF14; --text:#fff; --muted:#c9d8f3; --card:#0e1218; }
    html,body{background:var(--bg);color:var(--text);font-family:'Roboto',system-ui}
    .brand-orbitron{font-family:'Orbitron',sans-serif}
    .glass{backdrop-filter:blur(8px);background:linear-gradient(180deg,rgba(255,255,255,.02),rgba(255,255,255,.015));
      border:1px solid rgba(30,144,255,.25);border-radius:.75rem}
    .btn-neon-primary{border:1px solid rgba(30,144,255,.6);color:#001;font-weight:700;
      background:linear-gradient(135deg,var(--electric),var(--neon));
      box-shadow:0 0 12px rgba(30,144,255,.45),0 0 18px rgba(57,255,20,.3)}
    .badge-duoc{background:rgba(57,255,20,.18);border:1px solid rgba(57,255,20,.6)}
    .table-dark thead th{background:#0b0f18;border-color:rgba(30,144,255,.35)}
    
        /* Mejor contraste dentro del comprobante (solo esta tarjeta) */
    .card.glass .text-secondary {
      /* Etiquetas "Orden / Fecha / Nombre / Correo / DUOC" */
      color: #c9d8f3 !important;  /* tu --muted, más claro en fondo oscuro */
      letter-spacing: .2px;
    }

    .card.glass strong {
      /* Valores: ORD-..., fecha, nombre, correo, DUOC */
      color: #f0f4ff;             /* blanco azulado de alto contraste */
      font-weight: 700;
    }

    .card.glass h2 {
      /* Título "Detalle de la compra" y "Cliente" */
      color: #7dd3fc;             /* celeste legible sobre oscuro */
    }

    /* Si quieres un pelín más de legibilidad “gamer” sin perder sobriedad */
    .card.glass .text-secondary,
    .card.glass strong {
      text-shadow: 0 0 6px rgba(30,144,255,.15);
    }
  
    @media print {
      .no-print{display:none!important}
      body{background:#fff;color:#000}
      .table-dark{--bs-table-bg:#fff;--bs-table-color:#000}
    }
  </style>
</head>
<body>
  <a class="visually-hidden-focusable skip-link" href="#contenido">Saltar al contenido</a>

  <!-- NAV -->
  <header class="sticky-top no-print">
    <nav class="navbar navbar-expand-lg navbar-dark bg-black border-bottom border-primary-subtle shadow-sm" data-bs-theme="dark">
      <div class="container">
        <a class="navbar-brand d-flex align-items-center gap-2" href="index.html">
          <img src="assets/images/logo-levelup.jpeg" alt="Level-Up Gamer" class="brand-logo" height="40">
          <span class="fw-bold brand-orbitron d-none d-md-inline">Level-Up Gamer</span>
        </a>

        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarMain" aria-controls="navbarMain" aria-expanded="false" aria-label="Mostrar navegación">
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarMain">
          <!-- Izquierda -->
          <ul class="navbar-nav me-auto">
            <li class="nav-item"><a class="nav-link" href="index.html">Inicio</a></li>
            <li class="nav-item"><a class="nav-link" href="catalogo.html">Catálogo</a></li>
            <li class="nav-item"><a class="nav-link" href="index.html#eventos">Eventos/Comunidad</a></li>
          </ul>

          <!-- Derecha -->
          <div class="d-flex align-items-center gap-2">
            <a href="carrito.html" class="btn btn-outline-neon position-relative">
              Carrito <span id="cartCount" class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-primary">0</span>
            </a>
            <div class="dropdown">
              <button class="btn btn-neon-primary dropdown-toggle" type="button" id="cuentaMenu" data-bs-toggle="dropdown" aria-expanded="false">Cuenta</button>
              <ul class="dropdown-menu dropdown-menu-end bg-black border-primary-subtle" aria-labelledby="cuentaMenu">
                <!-- estado: NO logeado -->
                <li><a class="dropdown-item text-light" id="navLoginLink" href="login.html">Iniciar sesión</a></li>
                <li><a class="dropdown-item text-light" id="navRegisterLink" href="registro.html">Crear cuenta</a></li>
                <!-- estado: logeado -->
                <li><a class="dropdown-item text-light d-none" id="navProfileLink" href="perfil.html">Mi perfil</a></li>
                <li><hr class="dropdown-divider border-primary-subtle d-none" id="navDivider"></li>
                <li><button class="dropdown-item text-light d-none" id="navLogoutBtn" type="button">Salir</button></li>
              </ul>
            </div>
          </div>

        </div>
      </div>
    </nav>
  </header>

  <!-- MAIN -->
  <main id="contenido" class="py-5">
    <div class="container">
      <div class="d-flex align-items-center justify-content-between flex-wrap gap-2 mb-3">
        <h1 class="h3 brand-orbitron mb-0">Comprobante</h1>
        <div class="no-print d-flex gap-2">
          <a href="catalogo.html" class="btn btn-outline-neon">Seguir comprando</a>
          <button id="btnImprimir" class="btn btn-neon-primary">Imprimir</button>
        </div>
      </div>

      <!-- No se encontró la orden -->
      <div id="compNotFound" class="alert alert-warning d-none" role="alert">
        No se encontró ninguna compra reciente. Realiza una compra desde el <a class="alert-link" href="catalogo.html">catálogo</a>.
      </div>

      <!-- Comprobante -->
      <div class="card glass">
        <div class="card-body">
          <div class="row g-3">
            <div class="col-md-6">
              <h2 class="h5 brand-orbitron mb-2">Detalle de la compra</h2>
              <div class="small text-secondary">Orden</div>
              <div class="mb-2"><strong id="compOrdenId">—</strong></div>
              <div class="small text-secondary">Fecha</div>
              <div class="mb-2"><strong id="compFecha">—</strong></div>
            </div>
            <div class="col-md-6">
              <h2 class="h5 brand-orbitron mb-2">Cliente</h2>
              <div class="small text-secondary">Nombre</div>
              <div class="mb-1"><strong id="compCliente">—</strong></div>
              <div class="small text-secondary">Correo</div>
              <div class="mb-1"><strong id="compCorreo">—</strong></div>
              <div class="small text-secondary">DUOC</div>
              <div class="mb-1"><strong id="compDuoc">—</strong></div>
            </div>
          </div>

          <hr class="border-primary-subtle">

          <div class="table-responsive">
            <table class="table table-dark table-hover align-middle m-0">
              <thead>
                <tr>
                  <th scope="col">Producto</th>
                  <th scope="col">Código</th>
                  <th scope="col" class="text-center">Cantidad</th>
                  <th scope="col" class="text-end">Precio</th>
                  <th scope="col" class="text-end">Subtotal</th>
                </tr>
              </thead>
              <tbody id="compTbody">
                <!-- filas generadas por app.js / initComprobante() -->
              </tbody>
            </table>
          </div>

          <div class="row justify-content-end mt-3">
            <div class="col-md-6 col-lg-4">
              <ul class="list-unstyled m-0">
                <li class="d-flex justify-content-between">
                  <span class="text-secondary">Subtotal</span>
                  <strong id="compSubtotal">$0</strong>
                </li>
                <li class="d-flex justify-content-between">
                  <span class="text-secondary">Descuento</span>
                  <strong id="compDescuento">$0</strong>
                </li>
                <li class="d-flex justify-content-between fs-5 mt-1">
                  <span>Total</span>
                  <strong id="compTotal">$0</strong>
                </li>
              </ul>
            </div>
          </div>

        </div>
      </div>

    </div>
  </main>

  <!-- FOOTER -->
  <footer class="mt-5 border-top border-primary-subtle bg-black py-4 no-print">
    <div class="container text-center small text-secondary">
      © Level-Up Gamer
    </div>
  </footer>

  <!-- JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="assets/js/session.js"></script>
  <script src="assets/js/products.js"></script>
  <script src="assets/js/cart.js"></script>
  <script src="assets/js/app.js"></script>
  <script src="assets/js/receipt-page.js"></script>
</body>
</html>
